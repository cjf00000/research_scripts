%% Data
pg_perp = reshape([1724.200523
1675.687224
1664.067427
1649.549772
1634.842919
1633.605712
1620.70536
1634.076438
1638.721449
1623.2338
1593.270098
1598.722557
1577.316891
1586.108597
1579.971188
1573.882727
1581.084155
1566.064762
1556.449833
1555.577436
1550.735881
1552.604602
1549.945657
1546.866516
1552.863112
1547.523309
1538.402133
1541.013021
1539.886894
1529.880755
1536.06499
1537.254323], 8, 4)';

pg_time = reshape([27.5895
29.3113
30.6623
36.7405
47.1751
71.9003
117.675
213.925
56.1719
58.1538
60.8982
75.9237
96.5569
143.153
235.507
428.958
110.561
113.11
132.435
148.494
198.577
293.316
484.203
845.723
226.714
245.66
259.888
306.568
391.976
569.157
940.226
1701.2], 8, 4)';

mimno_perp = reshape([1957.515874
1856.724133
1759.844955
1712.271678
1687.76314
1651.698632
1649.829741
1622.625896
1775.629352
1709.159776
1684.776741
1625.369928
1608.702226
1584.847284
1583.516969
1574.553384
1668.107524
1623.542921
1605.295367
1580.468385
1558.499168
1556.089839
1556.004114
0
1609.132787
1575.847398
1564.900674
1545.650154
1540.073548
1547.469321
0
0], 8, 4)';

mimno_time = reshape([29.2327
28.4862
31.5235
34.7426
43.4433
61.1677
95.2616
159.06
53.9106
56.8706
64.4473
70.1294
92.7596
117.025
180.416
310.314
110.107
113.412
122.783
139.835
168.336
224.495
357.768
0
204.348
221.488
252.655
267.032
334.025
464.21
0
0], 8, 4)';


iter = [100 200 400 800];
subiter = [1 2 4 8 16 32 64 128];
pg_num = [4 4 4 4 4 4 4 4];
mimno_num = [4 4 4 4 4 4 3 2];

pgLineStyle = {'b-', 'r-', 'g-', 'k-', 'c-', 'm-', 'k--', 'b--'};
mimnoLineStyle = {'bx-', 'rx-', 'gx-', 'kx-', 'cx-', 'mx-', 'kx--', 'bx--'};

%% Plot 

set(0,'DefaultAxesFontName', 'Times');
set(0,'DefaultAxesFontSize', 20);
set(0,'DefaultTextFontname', 'Times');
set(0,'DefaultTextFontSize', 20);

for i = 1:length(subiter)
    plot(pg_time(1:pg_num(i),i), pg_perp(1:pg_num(i),i), pgLineStyle{i}, 'MarkerSize', 10, 'LineWidth', 3);
    hold on;
end
for i = 1:length(subiter)
    plot(mimno_time(1:mimno_num(i),i), mimno_perp(1:mimno_num(i),i), mimnoLineStyle{i}, 'MarkerSize', 10, 'LineWidth', 3);
    hold on;
end
%xlim([0.8 1300]);
ylim([1530 1700]);
%set(gca,'xtick',x);
set(gca, 'xscale', 'log');
legend('PG (S=1)', 'PG (S=2)', 'PG (S=4)', 'PG(S=8)', 'PG(S=16)', 'PG(S=32)', 'PG(S=64)', 'PG(S=128)', 'U(S=1)', 'U(S=2)', 'U(S=4)', 'U(S=8)', 'U(S=16)', 'U(S=32)', 'U(S=64)', 'U(S=128)');
%set(gca, 'xticklabel', {'1'; '2'; '4'; '8'; '16'; '32'; '64'; '128'; '256'; '512'; 'n'});
ylabel('perplexity');
xlabel('time/s');

